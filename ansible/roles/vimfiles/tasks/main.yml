---
# vimfiles playbook

- name: "Clone vimfiles"
  git: repo=https://github.com/sthulb-attic/vimfiles.git dest=/Users/{{install_user}}/.vimfiles recursive=yes

- name: "Link files"
  file: src=/Users/{{install_user}}/.vimfiles/{{item.path}} dest=/Users/{{install_user}}/{{ item.dest }} state=link force=yes
  with_items:
    - { path: "vimrc.vim", dest: ".vimrc" }
    - { path: "plugins", dest: ".vim" }

- name: "Install vundle"
  command: git clone https://github.com/VundleVim/Vundle.vim.git ~/.vimfiles/plugins/bundle/Vundle.vim
  tags: vundle
